<mat-card>
  <mat-grid-list cols="2" rowHeight="2:1">

    <!-- Display Movie poster -->
    <mat-grid-tile>
      <img [src]="movie.posterUrl" alt="{{ movie.title }} Poster">
    </mat-grid-tile>

    <!-- Display Movie details -->
    <mat-grid-tile>
      <h1>{{ movie.title }}</h1>
      <p>{{ movie.releaseDate }}</p> <!-- Date of the movie -->

      <!-- Buttons for adding and removing from watchlist -->
      <button *ngIf="!isMovieInWatchlist()" mat-raised-button color="primary" (click)="addToWatchlist()">Add to Watchlist</button>
      <button *ngIf="isMovieInWatchlist()" mat-raised-button color="warn" (click)="removeFromWatchlist()">Remove from Watchlist</button>

      <p class="h5">{{ movie.headline }}</p>
      <p>{{ movie.overview }}</p>
      <p>Genres: <span *ngFor="let genre of movie.genres; let isLast=last">{{ genre.name }}{{ isLast ? '' : ', ' }}</span></p>
      <button mat-raised-button color="primary" (click)="navigateToUpdateMovie()">Update Movie</button>

      <!-- Display Actors -->
      <div fxLayout="row wrap" fxLayoutGap="16px grid">
        <div *ngFor="let movieActor of movie.movieActors" (click)="navigateToActorDetails(movieActor.actor.id)">
          <img [src]="movieActor.actor.profilePictureUrl" alt="{{ movieActor.actor.firstName }} {{ movieActor.actor.lastName }}">
          <div>{{ movieActor.actor.firstName }} {{ movieActor.actor.lastName }}</div>
          <div><small>{{ movieActor.role }}</small></div>
        </div>
      </div>
    </mat-grid-tile>
  </mat-grid-list>

  <!-- Display movie reviews -->
  <h2>Reviews</h2>
  <mat-card *ngFor="let review of movie.reviews">
    <mat-card-header>
      <mat-card-title>{{ review.user.username }}</mat-card-title>
      <mat-card-subtitle>{{ review.score }}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>{{ review.text }}</p>
    </mat-card-content>
  </mat-card>

  <!-- Display section for adding reviews -->
  <h2>Add a Review</h2>
  <mat-card>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="submitReview()">
        <mat-form-field class="full-width">
          <textarea matInput id="reviewText" formControlName="text" required></textarea>
          <mat-label>Review</mat-label>
        </mat-form-field>
        <mat-form-field class="full-width">
          <input matInput type="number" id="reviewScore" formControlName="score" required min="1" max="10">
          <mat-label>Score</mat-label>
        </mat-form-field>
        <button mat-raised-button color="primary" type="submit">Submit</button>
      </form>
    </mat-card-content>
  </mat-card>
</mat-card>
