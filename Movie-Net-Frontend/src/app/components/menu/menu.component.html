<header class="main-header bg-dark text-white p-3 mb-3">
  <div class="container d-flex justify-content-between align-items-center">

    <!--    Title and Logo -->
    <div class="title-container">
      <div class="logo-wrapper">
        <img
          ngSrc="assets/logo.svg" [width]="50" [height]="50"
          alt="Logo"
          class="rounded-circle me-2"
          aria-expanded="false"
        />
      </div>
      <a routerLink="/home" class="text-white text-decoration-none display-6 fw-bold">Letterboxd</a>
    </div>


    <nav class="nav-container d-flex justify-content-center flex-grow-1 gap-3">
      <!-- Show Register and Login links only if the user is not authenticated -->
      <a *ngIf="!isUserLoggedIn()"
         class="btn btn-outline-light"
         routerLink="/user-register"
         routerLinkActive="btn-primary"
         ariaCurrentWhenActive="page">
        Register
      </a>
      <a *ngIf="!isUserLoggedIn()"
         class="btn btn-outline-light"
         routerLink="/user-login"
         routerLinkActive="btn-primary"
         ariaCurrentWhenActive="page">
        Login
      </a>

      <!-- Show Movies and Genre links only if the user is authenticated -->
      <div *ngIf="isUserLoggedIn()" class="dropdown">
        <button
          class="btn btn-outline-light dropdown-toggle"
          type="button" id="dropdownMenuButton"
          data-bs-toggle="dropdown"
          aria-expanded="false">
          Movies
        </button>
        <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton">
          <li>
            <a
              class="dropdown-item"
              routerLink="/movie-save"
              routerLinkActive="active"
              aria-current="page">
              Add Movie
            </a>
          </li>
          <li>
            <a
              class="dropdown-item"
              routerLink="/movie-list"
              routerLinkActive="active"
              aria-current="page">
              Find Movies
            </a>
          </li>
        </ul>
      </div>

      <a *ngIf="isUserLoggedIn()"
         class="btn btn-outline-light"
         routerLink="/genre-list"
         routerLinkActive="btn-primary"
         ariaCurrentWhenActive="page">
        Genre
      </a>

      <!-- USER PROFILE -->
      <div *ngIf="isUserLoggedIn()" class="user-profile d-flex align-items-center">
        <div class="user-profile d-flex align-items-center">
          <div class="dropdown">
            <!--  todo: use a real profile pic image -->
            <img
              ngSrc="assets/default-profile.png" [width]="35" [height]="35"
              alt="User Profile"
              class="rounded-circle me-2"
              id="userDropdownMenuButton"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            />
            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="userDropdownMenuButton">
              <li>
                <a class="dropdown-item" routerLink="/user-profile" aria-current="page">
                  Profile
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/user-watchlist" aria-current="page">
                  Watchlist
                </a>
              </li>
              <li>
                <a class="dropdown-item" (click)="logout()" aria-current="page">
                  Logout
                </a>
              </li>
            </ul>
          </div>
          <span class="ms-2">{{ currentUser.username }}</span>
        </div>
      </div>

    </nav>

  </div>
</header>
